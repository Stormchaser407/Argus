{"version":3,"file":"src_lib_rlottie_RLottie_ts.6b212f0b4b8a1c663d7a.js","mappings":"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","sources":["webpack://telegram-t/./src/lib/rlottie/RLottie.ts","webpack://telegram-t/./src/util/PostMessageConnector.ts","webpack://telegram-t/./src/util/cycleRestrict.ts","webpack://telegram-t/./src/util/launchMediaWorkers.ts"],"sourcesContent":["import { animate } from '../../util/animation';\nimport {\n  IS_ANDROID, IS_IOS, IS_SAFARI,\n} from '../../util/browser/windowEnvironment';\nimport cycleRestrict from '../../util/cycleRestrict';\nimport Deferred from '../../util/Deferred';\nimport generateUniqueId from '../../util/generateUniqueId';\nimport launchMediaWorkers, { MAX_WORKERS } from '../../util/launchMediaWorkers';\nimport { requestMeasure, requestMutation } from '../fasterdom/fasterdom';\n\ninterface Params {\n  size: number;\n  noLoop?: boolean;\n  quality?: number;\n  isLowPriority?: boolean;\n  coords?: { x: number; y: number };\n}\n\nconst WAITING = Symbol('WAITING');\ntype Frame =\n  undefined\n  | typeof WAITING\n  | ImageBitmap;\n\ntype FrameCallback = (index: number) => void;\n\nconst HIGH_PRIORITY_QUALITY = (IS_ANDROID || IS_IOS) ? 0.75 : 1;\nconst LOW_PRIORITY_QUALITY = IS_ANDROID ? 0.5 : 0.75;\nconst LOW_PRIORITY_QUALITY_SIZE_THRESHOLD = 24;\nconst HIGH_PRIORITY_CACHE_MODULO = IS_SAFARI ? 2 : 4;\nconst LOW_PRIORITY_CACHE_MODULO = 0;\nconst CANVAS_CLASS = 'rlottie-canvas';\n\nconst workers = launchMediaWorkers().map(({ connector }) => connector);\nconst instancesByRenderId = new Map<string, RLottie>();\n\nconst PENDING_CANVAS_RESIZES = new WeakMap<HTMLCanvasElement, Promise<void>>();\n\nlet lastWorkerIndex = -1;\n\nclass RLottie {\n  // Config\n\n  private views = new Map<string, {\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    isLoaded?: boolean;\n    isPaused?: boolean;\n    isSharedCanvas?: boolean;\n    coords?: Params['coords'];\n    onLoad?: NoneToVoidFunction;\n    onFrame?: FrameCallback;\n  }>();\n\n  private imgSize!: number;\n\n  private imageData!: ImageData;\n\n  private msPerFrame = 1000 / 60;\n\n  private reduceFactor = 1;\n\n  private cacheModulo!: number;\n\n  private workerIndex!: number;\n\n  private frames: Frame[] = [];\n\n  private framesCount?: number;\n\n  // State\n\n  private isAnimating = false;\n\n  private isWaiting = true;\n\n  private isEnded = false;\n\n  private isDestroyed = false;\n\n  private isRendererInited = false;\n\n  private approxFrameIndex = 0;\n\n  private prevFrameIndex = -1;\n\n  private stopFrameIndex? = 0;\n\n  private speed = 1;\n\n  private direction: 1 | -1 = 1;\n\n  private lastRenderAt?: number;\n\n  private requestedSeekToEnd = false;\n\n  static init(...args: ConstructorParameters<typeof RLottie>) {\n    const [\n      , canvas,\n      renderId,\n      params,\n      viewId = generateUniqueId(),\n      ,\n      onLoad,\n      ,\n      ,\n      onFrame,\n    ] = args;\n    let instance = instancesByRenderId.get(renderId);\n\n    if (!instance) {\n      instance = new RLottie(...args);\n      instancesByRenderId.set(renderId, instance);\n    } else {\n      instance.addView(viewId, canvas, onLoad, onFrame, params?.coords);\n    }\n\n    return instance;\n  }\n\n  constructor(\n    private tgsUrl: string,\n    container: HTMLDivElement | HTMLCanvasElement,\n    private renderId: string,\n    private params: Params,\n    viewId: string = generateUniqueId(),\n    private customColor?: [number, number, number],\n    onLoad?: NoneToVoidFunction | undefined,\n    private onEnded?: (isDestroyed?: boolean) => void,\n    private onLoop?: () => void,\n    onFrame?: FrameCallback,\n  ) {\n    this.addView(viewId, container, onLoad, onFrame, params.coords);\n    this.initConfig();\n    this.initRenderer();\n  }\n\n  public removeView(viewId: string) {\n    const {\n      canvas, ctx, isSharedCanvas, coords,\n    } = this.views.get(viewId)!;\n\n    if (isSharedCanvas) {\n      ctx.clearRect(coords!.x, coords!.y, this.imgSize, this.imgSize);\n    } else {\n      canvas.remove();\n    }\n\n    this.views.delete(viewId);\n\n    if (!this.views.size) {\n      this.destroy();\n    }\n  }\n\n  isPlaying() {\n    return this.isAnimating || this.isWaiting;\n  }\n\n  play(forceRestart = false, viewId?: string) {\n    if (viewId) {\n      this.views.get(viewId)!.isPaused = false;\n    }\n\n    if (this.isEnded && forceRestart) {\n      this.approxFrameIndex = Math.floor(0);\n    }\n\n    this.stopFrameIndex = undefined;\n    this.direction = 1;\n    this.doPlay();\n  }\n\n  pause(viewId?: string) {\n    this.lastRenderAt = undefined;\n\n    if (viewId) {\n      this.views.get(viewId)!.isPaused = true;\n\n      const areAllContainersPaused = Array.from(this.views.values()).every(({ isPaused }) => isPaused);\n      if (!areAllContainersPaused) {\n        return;\n      }\n    }\n\n    if (this.isWaiting) {\n      this.stopFrameIndex = this.approxFrameIndex;\n    } else {\n      this.isAnimating = false;\n    }\n\n    if (!this.params.isLowPriority) {\n      this.frames = this.frames.map((frame, i) => {\n        if (i === this.prevFrameIndex) {\n          return frame;\n        } else {\n          if (frame && frame !== WAITING) {\n            frame.close();\n          }\n\n          return undefined;\n        }\n      });\n    }\n  }\n\n  playSegment([startFrameIndex, stopFrameIndex]: [number, number], forceRestart = false, viewId?: string) {\n    if (viewId) {\n      this.views.get(viewId)!.isPaused = false;\n    }\n\n    const frameIndex = Math.round(this.approxFrameIndex);\n    this.stopFrameIndex = Math.floor(stopFrameIndex / this.reduceFactor);\n    if (frameIndex !== stopFrameIndex || forceRestart) {\n      this.approxFrameIndex = Math.floor(startFrameIndex / this.reduceFactor);\n    }\n    this.direction = startFrameIndex < stopFrameIndex ? 1 : -1;\n\n    this.doPlay();\n  }\n\n  seekToEnd() {\n    this.requestedSeekToEnd = true;\n    this.doPlay();\n  }\n\n  setSpeed(speed: number) {\n    this.speed = speed;\n  }\n\n  setNoLoop(noLoop?: boolean) {\n    this.params.noLoop = noLoop;\n  }\n\n  async setSharedCanvasCoords(viewId: string, newCoords: Params['coords']) {\n    const containerInfo = this.views.get(viewId)!;\n    const {\n      canvas, ctx,\n    } = containerInfo;\n\n    const isCanvasDirty = !canvas.dataset.isJustCleaned || canvas.dataset.isJustCleaned === 'false';\n\n    if (!isCanvasDirty) {\n      await PENDING_CANVAS_RESIZES.get(canvas);\n    }\n\n    let [canvasWidth, canvasHeight] = [canvas.width, canvas.height];\n\n    if (isCanvasDirty) {\n      const sizeFactor = this.calcSizeFactor();\n      ([canvasWidth, canvasHeight] = ensureCanvasSize(canvas, sizeFactor));\n      ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n      canvas.dataset.isJustCleaned = 'true';\n      requestMeasure(() => {\n        canvas.dataset.isJustCleaned = 'false';\n      });\n    }\n\n    containerInfo.coords = {\n      x: Math.round((newCoords?.x || 0) * canvasWidth),\n      y: Math.round((newCoords?.y || 0) * canvasHeight),\n    };\n\n    const frame = this.getFrame(this.prevFrameIndex) || this.getFrame(Math.round(this.approxFrameIndex));\n\n    if (frame && frame !== WAITING) {\n      ctx.drawImage(frame, containerInfo.coords.x, containerInfo.coords.y);\n    }\n  }\n\n  private addView(\n    viewId: string,\n    container: HTMLDivElement | HTMLCanvasElement,\n    onLoad?: NoneToVoidFunction,\n    onFrame?: FrameCallback,\n    coords?: Params['coords'],\n  ) {\n    const sizeFactor = this.calcSizeFactor();\n\n    let imgSize: number;\n\n    if (container instanceof HTMLDivElement) {\n      if (!(container.parentNode instanceof HTMLElement)) {\n        throw new Error('[RLottie] Container is not mounted');\n      }\n\n      const { size } = this.params;\n\n      imgSize = Math.round(size * sizeFactor);\n\n      if (!this.imgSize) {\n        this.imgSize = imgSize;\n        this.imageData = new ImageData(imgSize, imgSize);\n      }\n\n      requestMutation(() => {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d')!;\n\n        canvas.classList.add(CANVAS_CLASS);\n\n        canvas.style.width = `${size}px`;\n        canvas.style.height = `${size}px`;\n\n        canvas.width = imgSize;\n        canvas.height = imgSize;\n\n        container.appendChild(canvas);\n\n        this.views.set(viewId, {\n          canvas, ctx, onLoad, onFrame,\n        });\n      });\n    } else {\n      if (!container.isConnected) {\n        throw new Error('[RLottie] Shared canvas is not mounted');\n      }\n\n      const canvas = container;\n      const ctx = canvas.getContext('2d')!;\n\n      imgSize = Math.round(this.params.size * sizeFactor);\n\n      if (!this.imgSize) {\n        this.imgSize = imgSize;\n        this.imageData = new ImageData(imgSize, imgSize);\n      }\n\n      const [canvasWidth, canvasHeight] = ensureCanvasSize(canvas, sizeFactor);\n\n      this.views.set(viewId, {\n        canvas,\n        ctx,\n        isSharedCanvas: true,\n        coords: {\n          x: Math.round(coords!.x * canvasWidth),\n          y: Math.round(coords!.y * canvasHeight),\n        },\n        onLoad,\n      });\n    }\n\n    if (this.isRendererInited) {\n      this.doPlay();\n    }\n  }\n\n  private calcSizeFactor() {\n    const {\n      size,\n      isLowPriority,\n      // Reduced quality only looks acceptable on big enough images\n      quality = isLowPriority && (!size || size > LOW_PRIORITY_QUALITY_SIZE_THRESHOLD)\n        ? LOW_PRIORITY_QUALITY : HIGH_PRIORITY_QUALITY,\n    } = this.params;\n\n    // Reduced quality only looks acceptable on high DPR screens\n    return Math.max(window.devicePixelRatio * quality, 1);\n  }\n\n  private destroy() {\n    this.isDestroyed = true;\n    this.pause();\n    this.clearCache();\n    this.destroyRenderer();\n\n    instancesByRenderId.delete(this.renderId);\n  }\n\n  private clearCache() {\n    this.frames.forEach((frame) => {\n      if (frame && frame !== WAITING) {\n        frame.close();\n      }\n    });\n\n    // Help GC\n    this.imageData = undefined as any;\n    this.frames = [];\n  }\n\n  private initConfig() {\n    const { isLowPriority } = this.params;\n\n    this.cacheModulo = isLowPriority ? LOW_PRIORITY_CACHE_MODULO : HIGH_PRIORITY_CACHE_MODULO;\n  }\n\n  setColor(newColor: [number, number, number] | undefined) {\n    this.customColor = newColor;\n  }\n\n  private initRenderer() {\n    this.workerIndex = cycleRestrict(MAX_WORKERS, ++lastWorkerIndex);\n\n    workers[this.workerIndex].request({\n      name: 'rlottie:init',\n      args: [\n        this.renderId,\n        this.tgsUrl,\n        this.imgSize,\n        this.params.isLowPriority || false,\n        this.customColor,\n        this.onRendererInit.bind(this),\n      ],\n    });\n  }\n\n  private destroyRenderer() {\n    workers[this.workerIndex].request({\n      name: 'rlottie:destroy',\n      args: [this.renderId],\n    });\n  }\n\n  private onRendererInit(reduceFactor: number, msPerFrame: number, framesCount: number) {\n    this.isRendererInited = true;\n    this.reduceFactor = reduceFactor;\n    this.msPerFrame = msPerFrame;\n    this.framesCount = framesCount;\n\n    if (this.isWaiting) {\n      this.doPlay();\n    }\n  }\n\n  changeData(tgsUrl: string) {\n    this.pause();\n    this.tgsUrl = tgsUrl;\n    this.initConfig();\n\n    workers[this.workerIndex].request({\n      name: 'rlottie:changeData',\n      args: [\n        this.renderId,\n        this.tgsUrl,\n        this.params.isLowPriority || false,\n        this.onChangeData.bind(this),\n      ],\n    });\n  }\n\n  private onChangeData(reduceFactor: number, msPerFrame: number, framesCount: number) {\n    this.reduceFactor = reduceFactor;\n    this.msPerFrame = msPerFrame;\n    this.framesCount = framesCount;\n    this.isWaiting = false;\n    this.isAnimating = false;\n\n    this.doPlay();\n  }\n\n  private doPlay() {\n    if (!this.framesCount) {\n      return;\n    }\n\n    if (this.isDestroyed) {\n      return;\n    }\n\n    if (this.requestedSeekToEnd) {\n      this.approxFrameIndex = this.framesCount - 1;\n      this.stopFrameIndex = undefined;\n      this.requestedSeekToEnd = false;\n    }\n\n    if (this.isAnimating) {\n      return;\n    }\n\n    if (!this.isWaiting) {\n      this.lastRenderAt = undefined;\n    }\n\n    this.isEnded = false;\n    this.isAnimating = true;\n    this.isWaiting = false;\n\n    animate(() => {\n      if (this.isDestroyed) {\n        return false;\n      }\n\n      // Paused from outside\n      if (!this.isAnimating) {\n        const areAllLoaded = Array.from(this.views.values()).every(({ isLoaded }) => isLoaded);\n        if (areAllLoaded) {\n          return false;\n        }\n      }\n\n      const frameIndex = Math.round(this.approxFrameIndex);\n      const frame = this.getFrame(frameIndex);\n      if (!frame || frame === WAITING) {\n        if (!frame) {\n          this.requestFrame(frameIndex);\n        }\n\n        this.isAnimating = false;\n        this.isWaiting = true;\n        return false;\n      }\n\n      if (this.cacheModulo && frameIndex % this.cacheModulo === 0) {\n        this.cleanupPrevFrame(frameIndex);\n      }\n\n      if (frameIndex !== this.prevFrameIndex) {\n        this.views.forEach((containerData) => {\n          const {\n            ctx, isLoaded, isPaused, coords: { x, y } = {}, onLoad, onFrame,\n          } = containerData;\n\n          if (!isLoaded || !isPaused) {\n            ctx.clearRect(x || 0, y || 0, this.imgSize, this.imgSize);\n            ctx.drawImage(frame, x || 0, y || 0);\n            onFrame?.(frameIndex);\n          }\n\n          if (!isLoaded) {\n            containerData.isLoaded = true;\n            onLoad?.();\n          }\n        });\n\n        this.prevFrameIndex = frameIndex;\n      }\n\n      const now = Date.now();\n      const currentSpeed = this.lastRenderAt ? this.msPerFrame / (now - this.lastRenderAt) : 1;\n      const delta = (this.direction * this.speed) / currentSpeed;\n      const expectedNextFrameIndex = Math.round(this.approxFrameIndex + delta);\n\n      this.lastRenderAt = now;\n\n      // Forward animation finished\n      if (delta > 0 && (frameIndex === this.framesCount! - 1 || expectedNextFrameIndex > this.framesCount! - 1)) {\n        if (this.params.noLoop) {\n          this.isAnimating = false;\n          this.isEnded = true;\n          this.onEnded?.();\n          return false;\n        }\n        this.onLoop?.();\n\n        this.approxFrameIndex = 0;\n\n        // Backward animation finished\n      } else if (delta < 0 && (frameIndex === 0 || expectedNextFrameIndex < 0)) {\n        if (this.params.noLoop) {\n          this.isAnimating = false;\n          this.isEnded = true;\n          this.onEnded?.();\n          return false;\n        }\n        this.onLoop?.();\n\n        this.approxFrameIndex = this.framesCount! - 1;\n\n        // Stop frame reached\n      } else if (\n        this.stopFrameIndex !== undefined\n        && (frameIndex === this.stopFrameIndex\n          || (\n            (delta > 0 && expectedNextFrameIndex > this.stopFrameIndex)\n            || (delta < 0 && expectedNextFrameIndex < this.stopFrameIndex)\n          ))\n      ) {\n        this.stopFrameIndex = undefined;\n        this.isAnimating = false;\n        return false;\n\n        // Preparing next frame\n      } else {\n        this.approxFrameIndex += delta;\n      }\n\n      const nextFrameIndex = Math.round(this.approxFrameIndex);\n\n      if (!this.getFrame(nextFrameIndex)) {\n        this.requestFrame(nextFrameIndex);\n        this.isWaiting = true;\n        this.isAnimating = false;\n        return false;\n      }\n\n      return true;\n    }, requestMutation);\n  }\n\n  private getFrame(frameIndex: number) {\n    return this.frames[frameIndex];\n  }\n\n  private requestFrame(frameIndex: number) {\n    this.frames[frameIndex] = WAITING;\n\n    workers[this.workerIndex].request({\n      name: 'rlottie:renderFrames',\n      args: [this.renderId, frameIndex, this.onFrameLoad.bind(this)],\n    });\n  }\n\n  private cleanupPrevFrame(frameIndex: number) {\n    if (this.framesCount! < 3) {\n      return;\n    }\n\n    const prevFrameIndex = cycleRestrict(this.framesCount!, frameIndex - 1);\n    this.frames[prevFrameIndex] = undefined;\n  }\n\n  private onFrameLoad(frameIndex: number, imageBitmap: ImageBitmap) {\n    if (this.frames[frameIndex] !== WAITING) {\n      return;\n    }\n\n    this.frames[frameIndex] = imageBitmap;\n\n    if (this.isWaiting) {\n      this.doPlay();\n    }\n  }\n}\n\nfunction ensureCanvasSize(canvas: HTMLCanvasElement, sizeFactor: number) {\n  const expectedWidth = Math.round(canvas.offsetWidth * sizeFactor);\n  const expectedHeight = Math.round(canvas.offsetHeight * sizeFactor);\n\n  if (canvas.width !== expectedWidth || canvas.height !== expectedHeight) {\n    const deferred = new Deferred<void>();\n    PENDING_CANVAS_RESIZES.set(canvas, deferred.promise);\n    requestMutation(() => {\n      canvas.width = expectedWidth;\n      canvas.height = expectedHeight;\n      deferred.resolve();\n    });\n  }\n\n  return [expectedWidth, expectedHeight];\n}\n\nexport default RLottie;\n","import generateUniqueId from './generateUniqueId';\nimport { throttleWithTickEnd } from './schedulers';\n\nexport interface CancellableCallback {\n  (\n    ...args: any[]\n  ): void;\n\n  isCanceled?: boolean;\n}\n\ntype InitPayload = {\n  type: 'init';\n  messageId?: string;\n  args: any;\n};\n\ntype CallMethodPayload = {\n  type: 'callMethod';\n  messageId?: string;\n  name: string;\n  args: any;\n  withCallback?: boolean;\n};\n\ntype CancelProgressPayload = {\n  type: 'cancelProgress';\n  messageId: string;\n};\n\nexport type OriginPayload =\n  InitPayload\n  | CallMethodPayload\n  | CancelProgressPayload;\n\nexport type OriginMessageData = {\n  channel?: string;\n  payloads: OriginPayload[];\n};\n\nexport interface OriginMessageEvent {\n  data: OriginMessageData;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\nexport type ApiUpdate = { type: string } & any;\n\nexport type WorkerPayload =\n  {\n    channel?: string;\n    type: 'update';\n    update: ApiUpdate;\n  }\n  |\n  {\n    channel?: string;\n    type: 'methodResponse';\n    messageId: string;\n    response?: any;\n    error?: { message: string };\n  }\n  |\n  {\n    channel?: string;\n    type: 'methodCallback';\n    messageId: string;\n    callbackArgs: any[];\n  }\n  |\n  {\n    channel?: string;\n    type: 'unhandledError';\n    error?: { message: string };\n  };\n\nexport type WorkerMessageData = {\n  channel?: string;\n  payloads: WorkerPayload[];\n};\n\nexport interface WorkerMessageEvent {\n  data: WorkerMessageData;\n}\n\ninterface RequestState {\n  messageId: string;\n  resolve: AnyToVoidFunction;\n  reject: AnyToVoidFunction;\n  callback: AnyToVoidFunction;\n}\n\ntype InputRequestTypes = Record<string, AnyFunction>;\n\ntype Values<T> = T[keyof T];\nexport type RequestTypes<T extends InputRequestTypes> = Values<{\n  [Name in keyof (T)]: {\n    name: Name & string;\n    args: Parameters<T[Name]>;\n    transferables?: Transferable[];\n  }\n}>;\n\nclass ConnectorClass<T extends InputRequestTypes> {\n  private requestStates = new Map<string, RequestState>();\n\n  private requestStatesByCallback = new Map<AnyToVoidFunction, RequestState>();\n\n  private pendingPayloads: OriginPayload[] = [];\n\n  private pendingTransferables: Transferable[] = [];\n\n  constructor(\n    public target: Worker,\n    private onUpdate?: (update: ApiUpdate) => void,\n    private channel?: string,\n  ) {\n  }\n\n  public destroy() {\n  }\n\n  init(...args: any[]) {\n    this.postMessageOnTickEnd({\n      type: 'init',\n      args,\n    });\n  }\n\n  request(messageData: RequestTypes<T>) {\n    const { requestStates, requestStatesByCallback } = this;\n    const { transferables, ...restMessageData } = messageData;\n\n    const messageId = generateUniqueId();\n    const payload: CallMethodPayload = {\n      type: 'callMethod',\n      messageId,\n      ...restMessageData,\n    };\n\n    const requestState = { messageId } as RequestState;\n\n    // Re-wrap type because of `postMessage`\n    const promise = new Promise<any>((resolve, reject) => {\n      Object.assign(requestState, { resolve, reject });\n    });\n\n    if (typeof payload.args[payload.args.length - 1] === 'function') {\n      payload.withCallback = true;\n\n      const callback = payload.args.pop() as AnyToVoidFunction;\n      requestState.callback = callback;\n      requestStatesByCallback.set(callback, requestState);\n    }\n\n    requestStates.set(messageId, requestState);\n    promise\n      .catch(() => undefined)\n      .finally(() => {\n        requestStates.delete(messageId);\n\n        if (requestState.callback) {\n          requestStatesByCallback.delete(requestState.callback);\n        }\n      });\n\n    this.postMessageOnTickEnd(payload, transferables);\n\n    return promise;\n  }\n\n  cancelCallback(progressCallback: CancellableCallback) {\n    progressCallback.isCanceled = true;\n\n    const { messageId } = this.requestStatesByCallback.get(progressCallback) || {};\n    if (!messageId) {\n      return;\n    }\n\n    this.postMessageOnTickEnd({\n      type: 'cancelProgress',\n      messageId,\n    });\n  }\n\n  onMessage(data: WorkerMessageData) {\n    const { requestStates, channel } = this;\n    if (data.channel !== channel) {\n      return;\n    }\n\n    data.payloads.forEach((payload) => {\n      if (payload.type === 'update' && this.onUpdate) {\n        this.onUpdate(payload.update);\n      }\n      if (payload.type === 'methodResponse') {\n        const requestState = requestStates.get(payload.messageId);\n        if (requestState) {\n          if (payload.error) {\n            requestState.reject(payload.error);\n          } else {\n            requestState.resolve(payload.response);\n          }\n        }\n      } else if (payload.type === 'methodCallback') {\n        const requestState = requestStates.get(payload.messageId);\n        requestState?.callback?.(...payload.callbackArgs);\n      } else if (payload.type === 'unhandledError') {\n        throw new Error(payload.error?.message);\n      }\n    });\n  }\n\n  private postMessageOnTickEnd(payload: OriginPayload, transferables?: Transferable[]) {\n    this.pendingPayloads.push(payload);\n\n    if (transferables) {\n      this.pendingTransferables.push(...transferables);\n    }\n\n    this.postMessagesOnTickEnd();\n  }\n\n  private postMessagesOnTickEnd = throttleWithTickEnd(() => {\n    const { channel } = this;\n    const payloads = this.pendingPayloads;\n    const transferables = this.pendingTransferables;\n\n    this.pendingPayloads = [];\n    this.pendingTransferables = [];\n\n    this.target.postMessage({ channel, payloads }, transferables);\n  });\n}\n\nexport function createConnector<T extends InputRequestTypes>(\n  worker: Worker,\n  onUpdate?: (update: ApiUpdate) => void,\n  channel?: string,\n) {\n  const connector = new ConnectorClass<T>(worker, onUpdate, channel);\n\n  function handleMessage({ data }: WorkerMessageEvent) {\n    connector.onMessage(data);\n  }\n\n  worker.addEventListener('message', handleMessage);\n\n  connector.destroy = () => {\n    worker.removeEventListener('message', handleMessage);\n  };\n\n  return connector;\n}\n\nexport type Connector<T extends InputRequestTypes = InputRequestTypes> = ReturnType<typeof createConnector<T>>;\n","export default function cycleRestrict(length: number, index: number) {\n  return index - Math.floor(index / length) * length;\n}\n","import type { MediaWorkerApi } from '../lib/mediaWorker/index.worker';\nimport type { Connector } from './PostMessageConnector';\n\nimport { IS_TEST } from '../config';\n\nimport { createConnector } from './PostMessageConnector';\n\nexport const MAX_WORKERS = Math.min(navigator.hardwareConcurrency || 4, 4);\n\nlet instances: {\n  worker: Worker;\n  connector: Connector<MediaWorkerApi>;\n}[] | undefined;\n\nexport default function launchMediaWorkers() {\n  if (IS_TEST) return [];\n  if (!instances) {\n    instances = new Array(MAX_WORKERS).fill(undefined).map(\n      () => {\n        const worker = new Worker(new URL('../lib/mediaWorker/index.worker.ts', import.meta.url));\n        const connector = createConnector<MediaWorkerApi>(worker, undefined, 'media');\n        return { worker, connector };\n      },\n    );\n  }\n\n  return instances;\n}\n\nexport function requestMediaWorker(payload: Parameters<Connector<MediaWorkerApi>['request']>[0], index: number) {\n  return launchMediaWorkers()[index].connector.request(payload);\n}\n"],"names":["animate","IS_ANDROID","IS_IOS","IS_SAFARI","cycleRestrict","Deferred","generateUniqueId","launchMediaWorkers","MAX_WORKERS","requestMeasure","requestMutation","WAITING","Symbol","HIGH_PRIORITY_QUALITY","LOW_PRIORITY_QUALITY","LOW_PRIORITY_QUALITY_SIZE_THRESHOLD","HIGH_PRIORITY_CACHE_MODULO","LOW_PRIORITY_CACHE_MODULO","CANVAS_CLASS","workers","map","connector","instancesByRenderId","Map","PENDING_CANVAS_RESIZES","WeakMap","lastWorkerIndex","RLottie","views","msPerFrame","reduceFactor","frames","isAnimating","isWaiting","isEnded","isDestroyed","isRendererInited","approxFrameIndex","prevFrameIndex","stopFrameIndex","speed","direction","requestedSeekToEnd","init","args","canvas","renderId","params","viewId","onLoad","onFrame","instance","get","set","addView","coords","constructor","tgsUrl","container","customColor","onEnded","onLoop","initConfig","initRenderer","removeView","ctx","isSharedCanvas","clearRect","x","y","imgSize","remove","delete","size","destroy","isPlaying","play","forceRestart","isPaused","Math","floor","undefined","doPlay","pause","lastRenderAt","areAllContainersPaused","Array","from","values","every","isLowPriority","frame","i","close","playSegment","startFrameIndex","frameIndex","round","seekToEnd","setSpeed","setNoLoop","noLoop","setSharedCanvasCoords","newCoords","containerInfo","isCanvasDirty","dataset","isJustCleaned","canvasWidth","canvasHeight","width","height","sizeFactor","calcSizeFactor","ensureCanvasSize","getFrame","drawImage","HTMLDivElement","parentNode","HTMLElement","Error","imageData","ImageData","document","createElement","getContext","classList","add","style","appendChild","isConnected","quality","max","window","devicePixelRatio","clearCache","destroyRenderer","forEach","cacheModulo","setColor","newColor","workerIndex","request","name","onRendererInit","bind","framesCount","changeData","onChangeData","areAllLoaded","isLoaded","requestFrame","cleanupPrevFrame","containerData","now","Date","currentSpeed","delta","expectedNextFrameIndex","nextFrameIndex","onFrameLoad","imageBitmap","expectedWidth","offsetWidth","expectedHeight","offsetHeight","deferred","promise","resolve","throttleWithTickEnd","ConnectorClass","requestStates","requestStatesByCallback","pendingPayloads","pendingTransferables","target","onUpdate","channel","postMessageOnTickEnd","type","messageData","transferables","restMessageData","messageId","payload","requestState","Promise","reject","Object","assign","length","withCallback","callback","pop","catch","finally","cancelCallback","progressCallback","isCanceled","onMessage","data","payloads","update","error","response","callbackArgs","message","push","postMessagesOnTickEnd","postMessage","createConnector","worker","handleMessage","addEventListener","removeEventListener","index","IS_TEST","min","navigator","hardwareConcurrency","instances","fill","Worker","URL","import","meta","url","requestMediaWorker"],"sourceRoot":""}